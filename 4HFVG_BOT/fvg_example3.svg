<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <rect width="800" height="600" fill="#1a1a1a"/>
  <line x1="100" y1="50" x2="100" y2="550" stroke="#333" stroke-width="2"/>
  <line x1="100" y1="550" x2="750" y2="550" stroke="#333" stroke-width="2"/>
  <text x="40" y="100" fill="#888" font-size="14" font-family="monospace">$93,000</text>
  <text x="40" y="200" fill="#888" font-size="14" font-family="monospace">$92,500</text>
  <text x="40" y="300" fill="#888" font-size="14" font-family="monospace">$92,000</text>
  <text x="40" y="400" fill="#888" font-size="14" font-family="monospace">$91,500</text>
  <text x="40" y="450" fill="#888" font-size="14" font-family="monospace">$91,000</text>
  <text x="40" y="500" fill="#888" font-size="14" font-family="monospace">$90,500</text>
  <rect x="100" y="200" width="650" height="200" fill="#2196F3" opacity="0.2"/>
  <line x1="100" y1="200" x2="750" y2="200" stroke="#2196F3" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="100" y1="400" x2="750" y2="400" stroke="#2196F3" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="350" y="190" fill="#2196F3" font-size="16" font-weight="bold" font-family="Arial">TOP = $92,500</text>
  <text x="330" y="420" fill="#2196F3" font-size="16" font-weight="bold" font-family="Arial">BOTTOM = $91,500</text>
  <text x="320" y="300" fill="#2196F3" font-size="20" font-weight="bold" font-family="Arial">BULLISH FVG</text>
  <rect x="180" y="380" width="40" height="80" fill="#ef5350"/>
  <line x1="200" y1="360" x2="200" y2="380" stroke="#ef5350" stroke-width="2"/>
  <line x1="200" y1="460" x2="200" y2="480" stroke="#ef5350" stroke-width="2"/>
  <text x="180" y="495" fill="#fff" font-size="12" font-family="Arial">[i-2]</text>
  <rect x="280" y="120" width="40" height="60" fill="#66bb6a"/>
  <line x1="300" y1="100" x2="300" y2="120" stroke="#66bb6a" stroke-width="2"/>
  <line x1="300" y1="180" x2="300" y2="200" stroke="#66bb6a" stroke-width="2"/>
  <text x="285" y="95" fill="#fff" font-size="12" font-family="Arial">[i]</text>
  <rect x="380" y="420" width="40" height="80" fill="#ef5350"/>
  <line x1="400" y1="400" x2="400" y2="420" stroke="#ef5350" stroke-width="2"/>
  <line x1="400" y1="500" x2="400" y2="520" stroke="#ef5350" stroke-width="2"/>
  <text x="375" y="535" fill="#fff" font-size="12" font-family="Arial">[i+1]</text>
  <text x="410" y="460" fill="#888" font-size="12" font-family="Arial">high=$91,200</text>
  <text x="410" y="475" fill="#888" font-size="11" font-family="Arial">(не торкалась)</text>
  <rect x="480" y="440" width="40" height="70" fill="#ef5350"/>
  <line x1="500" y1="420" x2="500" y2="440" stroke="#ef5350" stroke-width="2"/>
  <line x1="500" y1="510" x2="500" y2="535" stroke="#ef5350" stroke-width="2"/>
  <text x="475" y="550" fill="#fff" font-size="12" font-family="Arial">[i+2]</text>
  <text x="510" y="475" fill="#888" font-size="12" font-family="Arial">close=$90,600</text>
  <text x="510" y="490" fill="#888" font-size="11" font-family="Arial">(не entered)</text>
  <rect x="580" y="350" width="40" height="70" fill="#66bb6a"/>
  <line x1="600" y1="330" x2="600" y2="350" stroke="#66bb6a" stroke-width="2"/>
  <line x1="600" y1="420" x2="600" y2="445" stroke="#66bb6a" stroke-width="2"/>
  <text x="575" y="460" fill="#fff" font-size="12" font-family="Arial">[i+3]</text>
  <circle cx="600" cy="330" r="5" fill="#ffeb3b"/>
  <text x="610" y="335" fill="#ffeb3b" font-size="12" font-family="Arial">high=$91,800</text>
  <text x="610" y="350" fill="#0f0" font-size="11" font-family="Arial">entered=True!</text>
  <rect x="680" y="405" width="40" height="85" fill="#ef5350"/>
  <line x1="700" y1="380" x2="700" y2="405" stroke="#ef5350" stroke-width="2"/>
  <line x1="700" y1="490" x2="700" y2="510" stroke="#ef5350" stroke-width="2"/>
  <text x="675" y="525" fill="#fff" font-size="12" font-family="Arial">[i+4]</text>
  <text x="630" y="445" fill="#ff0000" font-size="14" font-weight="bold" font-family="Arial">REJECTED!</text>
  <rect x="450" y="70" width="300" height="110" fill="#333" stroke="#ffeb3b" stroke-width="2" rx="5"/>
  <text x="460" y="90" fill="#ffeb3b" font-size="14" font-weight="bold" font-family="Arial">Scenario A (i+2): ❌ NO SETUP</text>
  <text x="460" y="110" fill="#fff" font-size="11" font-family="monospace">entered=False → highs_inside=[]</text>
  <text x="460" y="130" fill="#ff0000" font-size="12" font-family="Arial">Cannot create setup (no SL data)</text>
  <text x="460" y="155" fill="#ffeb3b" font-size="14" font-weight="bold" font-family="Arial">Scenario B (i+4): ✅ SETUP OK</text>
  <text x="460" y="175" fill="#0f0" font-size="11" font-family="monospace">SL = 91800 * 1.002 = $91,984</text>
  <text x="200" y="30" fill="#fff" font-size="20" font-weight="bold" font-family="Arial">Приклад 3: BULLISH FVG - БЕЗ HIGHS INSIDE</text>
</svg>
